<!-- renderer/windows/productos.html (OK + sin XHR síncrono + CSP) -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Gestión de Productos</title>
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' 'unsafe-inline';
                 script-src 'self' 'unsafe-inline';
                 img-src 'self' app: data:;
                 connect-src 'self';">
  <link rel="stylesheet" href="../css/global.css" />
  <link rel="stylesheet" href="../css/navbar.css" />
  <link rel="stylesheet" href="../css/productos.css" />
  <style>
    .alertas-container{padding:0 1rem;margin-bottom:1rem;display:flex;flex-direction:column;gap:.5rem}
    .alerta{padding:.75rem 1.25rem;border-radius:.25rem;border:1px solid transparent;display:flex;justify-content:space-between;align-items:center}
    .alerta.stock{color:#856404;background-color:#fff3cd;border-color:#ffeeba}
    .alerta.vencimiento{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}
    .alerta-cerrar{background:none;border:none;font-size:1.5rem;line-height:1;cursor:pointer;color:inherit;opacity:.7}
    .alerta-cerrar:hover{opacity:1}
  </style>
</head>
<body>
  <div class="container">
    <!-- Sidebar lo inyecta navbar-loader.js; no XHR síncrono -->
<aside id="sidebar-placeholder" class="sidebar"></aside>

    <main class="main-content">
      <div id="alertas-container" class="alertas-container"></div>
      <header class="main-header">
        <h2>Gestión de Productos</h2>
        <div class="header-actions">
          <input type="text" id="search-input" placeholder="Buscar por nombre o código..." />
          <a href="registrar-compra-productos.html" class="btn btn-info">Compra de Productos</a>
          <button id="btn-nuevo-producto" class="btn btn-primario">+ Nuevo Producto</button>
        </div>
      </header>
      <section class="content-body">
        <div class="table-container">
          <table id="productos-table">
            <thead>
              <tr>
                <th style="width:5%;"></th>
                <th>Nombre</th>
                <th>Departamento</th>
                <th>Familia</th>
                <th>Código</th>
                <th>Stock</th>
                <th>Precio Venta</th>
                <th style="text-align:center;">Estado</th>
                <th style="text-align:right;">Acciones</th>
              </tr>
            </thead>
            <tbody id="productos-table-body"></tbody>
          </table>
        </div>
      </section>
    </main>
  </div>

  <script defer src="../js/navbar-loader.js"></script>
  <script defer src="../js/productos.js"></script>

  <!-- Toast -->
  <div id="toast-notification" class="toast"></div>
</body>
</html>
